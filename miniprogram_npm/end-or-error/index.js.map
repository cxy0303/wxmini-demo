{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["/**!\n * end-or-error - index.js\n *\n * Copyright(c) stream-utils and other contributors.\n * MIT Licensed\n *\n * Authors:\n *   fengmk2 <m@fengmk2.com> (http://fengmk2.com)\n */\n\n\n\n/**\n * Module dependencies.\n */\n\nmodule.exports = function eoe(stream, cb) {\n  if (!stream.readable) {\n    return cb();\n  }\n\n  stream.on('error', onerror);\n  stream.on('end', onend);\n\n  function onerror(err) {\n    cleanup();\n    cb(err);\n  }\n\n  function onend(data) {\n    cleanup();\n    cb(null, data);\n  }\n\n  function cleanup() {\n    stream.removeListener('error', onerror);\n    stream.removeListener('end', onend);\n  }\n};\n"]}