{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nfunction ready(flagOrFunction) {\n  this._ready = !!this._ready;\n  this._readyCallbacks = this._readyCallbacks || [];\n\n  if (arguments.length === 0) {\n    // return a promise\n    // support `this.ready().then(onready);` and `yield this.ready()`;\n    return new Promise(function (resolve) {\n      if (this._ready) {\n        return resolve();\n      }\n      this._readyCallbacks.push(resolve);\n    }.bind(this));\n  } else if (typeof flagOrFunction === 'function') {\n    this._readyCallbacks.push(flagOrFunction);\n  } else {\n    this._ready = !!flagOrFunction;\n  }\n\n  if (this._ready) {\n    this._readyCallbacks.splice(0, Infinity).forEach(function(callback) {\n      process.nextTick(callback);\n    });\n  }\n}\n\nfunction mixin(object) {\n  object.ready = ready;\n}\n\nmodule.exports = mixin;\nmodule.exports.mixin = mixin;\n"]}